<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Product Scrapper - Configuration</title>


    <!-- Custom fonts for this template -->
    <link href="{{ url_for('static', filename='vendor/fontawesome-free/css/all.min.css') }}" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{ url_for('static', filename='css/sb-admin-2.min.css') }}" rel="stylesheet">

    <!-- Custom styles for this page -->
    <link href="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.css') }}" rel="stylesheet">

    <style>
        .mt-100 {
            margin-top: 100px
        }

        .container-fluid {
            margin-top: 50px
        }

        body {
            background-color: #f2f7fb
        }

        .card {
            border-radius: 5px;
            -webkit-box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1), 0 11px 6px -7px rgba(43, 43, 43, 0.1);
            box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1), 0 11px 6px -7px rgba(43, 43, 43, 0.1);
            border: none;
            margin-bottom: 30px;
            -webkit-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out
        }

        .card .card-header {
            background-color: transparent;
            border-bottom: none;
            padding: 20px;
            position: relative
        }

        .card .card-block {
            padding: 1.25rem
        }

        .table-responsive {
            display: inline-block;
            width: 100%;
            overflow-x: auto
        }

        .card .card-block table tr {
            padding-bottom: 20px
        }

        .table>thead>tr>th {
            border-bottom-color: #ccc
        }

        .table th {
            padding: 1.25rem 0.75rem
        }

        td,
        th {
            white-space: nowrap
        }

        .tabledit-input:disabled {
            display: none
        }

        .btn-primary,
        .sweet-alert button.confirm,
        .wizard>.actions a {
            background-color: #4099ff;
            border-color: #4099ff;
            color: #fff;
            cursor: pointer;
            -webkit-transition: all ease-in 0.3s;
            transition: all ease-in 0.3s
        }

        .btn {
            border-radius: 2px;
            text-transform: capitalize;
            font-size: 15px;
            padding: 10px 19px;
            cursor: pointer
        }
    </style>


	</head>

    <body>
        <div id="content">

    
            <div id="wrapper">
    
                <!-- Sidebar -->
                <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
        
                    <!-- Sidebar - Brand -->
                    <a class="sidebar-brand d-flex align-items-center justify-content-center" href="{{ url_for('target') }}">
                        <div class="sidebar-brand-icon rotate-n-15">
                            <i class="fas fa-laugh-wink"></i>
                        </div>
                        <div class="sidebar-brand-text mx-3">MESA LIQUIDATION</div>
                    </a>
        
                    <!-- Divider -->
                    <hr class="sidebar-divider my-0">
        
                    <!-- Nav Item - Dashboard -->
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('homepage') }}">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            <span>Fetch Products</span></a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('target') }}">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            <span>Fetch Target</span></a>
                    </li>
                    <li class="nav-item">
                       <a class="nav-link" href="{{ url_for('add_produtcs') }}">
                           <i class="fas fa-fw fa-cog"></i>
                           <span>Add New Products</span></a>
                   </li>

                   <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('add_to_marketplace') }}">
                    <i class="fas fa-fw fa-cog"></i>
                    <span>Add to Marketplace</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('amazon') }}">
                        <i class="fas fa-fw fa-table"></i>
                        <span>Amazon - Add New</span></a>
                 </li>
                 <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('amazon_add_multiple') }}">
                        <i class="fas fa-fw fa-table"></i>
                        <span>Amazon - Add Multiple</span></a>
                 </li>
                    <li class="nav-item">
                       <a class="nav-link" href="{{ url_for('configuration') }}">
                           <i class="fas fa-fw fa-table"></i>
                           <span>Configuration</span></a>
                    </li>
        
                    
                </ul>
                <!-- End of Sidebar -->
        
                <!-- Content Wrapper -->
                <div id="content-wrapper" class="d-flex flex-column">
        
                    <!-- Main Content -->
                    <div id="content">
        
                        <!-- Topbar -->
                        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
        
                            <!-- Sidebar Toggle (Topbar) -->
                            <form action="" method='POST' enctype="multipart/form-data">
                                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                                    <i class="fa fa-bars"></i>
                                </button>
                            </form>
        
                            <h1 class="h4 mb-2 text-gray-800">CATEGORIES</h1>
        
        
                        </nav>
                        <!-- End of Topbar -->
        
                        <!-- Begin Page Content -->
                        <div class="container-fluid">
    
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Post Configs</h6>
                                </div>
                                <div class="card-body">
                                    <form action="" method='POST' enctype="multipart/form-data">

                                        <div class="form-row mb-4">		
                                            <div class="col">
                                                <label for="CoverImagePath"  class="control-label ">Image Path</label>
                                                <input type="text" name="CoverImagePath" class="form-control mb-4" rows="1" placeholder="Cover Image Path" value="{{ config['Cover Image Path'] }}" required>
                                            </div>                                            
                                        </div>
                                        <div class="form-row mb-4">		
                                            <div class="col">
                                                <label for="GoogleAPI"  class="control-label ">Google API Key</label>
                                                <input type="text" name="GoogleAPI" class="form-control mb-4" rows="1" placeholder="Google API Key" value="{{ config['GoogleAPI'] }}" required>
                                            </div>  
                                            <div class="col">
                                                <label for="CSEID"  class="control-label ">CSE ID</label>
                                                <input type="text" name="CSEID" class="form-control mb-4" rows="1" placeholder="Google CSE ID" value="{{ config['CSEID'] }}" required>
                                            </div>                                           
                                        </div>
                                        <div class="form-row mb-4">
                                            <div class="col">
                                                <label for="ImagesCount"  class="control-label ">Images Count</label>
                                                <input type="number" name="ImagesCount" class="form-control mb-4" rows="1" placeholder="Images Count" value="{{ config['Images Count'] }}" required>
                                            </div> 
                                            <div class="col">
                                                <label for="Schedule"  class="control-label ">Schedule</label>
                                                <input type="text" name="Schedule" class="form-control mb-4" rows="1" placeholder="Schedule" value="{{ config['Schedule'] }}" required>
                                            </div>  
                                            <div class="col">
                                                <label for="Delay"  class="control-label ">Delay <i>(in minutes)</i></label>
                                                <input type="text" name="Delay" class="form-control mb-4" rows="1" placeholder="Delay" value="{{ config['Delay'] }}" >
                                            </div>  
                                            <div class="col">
                                                <label for="InstaPrice"  class="control-label ">InstaPrice</label>
                                                <input type="text" name="InstaPrice" class="form-control mb-4" rows="1" placeholder="InstaPrice" value="{{ config['InstaPrice'] }}" >
                                            </div> 
                                            <div class="col">
                                                <label for="btn" class="control-label">Apply Configurations</label>
                                                <input class="btn btn-primary btn-lg btn-block form-control" type ="submit" name="btn" value="Submit">
                                            </div>                                                
                                        </div>  
                                        
                                    </form>
                                </div>
                            </div>
    
                            <!-- DataTales Example -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Categories</h6>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered display" id="dataTable" width="100%" cellspacing="0">
                                            <thead>
                                               <tr>
                                                    <th style="display: none;">id</th>
                                                  <th>Category Name</th>   
                                                  <th>Discount %</th>                                                        
                                               </tr>
                                            </thead>
                                            
                                            <tbody>
                                                {% for name, discount in categories.items() %}
                                                <tr>
                                                    <td class="tabledit-view-mode" style="display: none;">{{ name }}</td>
                                                    <td>{{ name }}</td>
                                                    <td class="tabledit-view-mode" style="cursor: pointer;"><span class="tabledit-span">{{ discount }}</span><input class="tabledit-input form-control input-sm" type="text" style="display: none;" disabled="" value="{{ discount }}"></td>
                                                </tr>
                                                {% endfor %}
                                            
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
        
        
                            
        
                        </div>
                        <!-- /.container-fluid -->
        
                    </div>
                    <!-- End of Main Content -->
        
                    <!-- Footer -->
    
                        <!-- Footer -->
                      <footer class="sticky-footer bg-white">
                         <div class="container my-auto">
                            <div class="copyright text-center my-auto">
                                 
                                <span>Copyright &copy; <a href="https://origamiitlab.com/">Origami IT Lab</a>  2020 |    
                                   <a href="https://www.linkedin.com/in/riteshkawadkar/"><i class="fab fa-linkedin-in"></i></a> |     
                                   <a href="https://www.facebook.com/riteshkawadkar/"><i class="fab fa-facebook-f"></i></a> 
                               </span>
                            </div>
                         </div>
                     </footer>
                    <!-- End of Footer -->
     
                <!-- End of Content Wrapper -->
        
            </div>

        </div>
    
        
        
        <!-- Bootstrap core JavaScript-->
        <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
    
        <!-- Core plugin JavaScript-->
        <script src="{{ url_for('static', filename='vendor/jquery-easing/jquery.easing.min.js') }}"></script>
    
        <!-- Custom scripts for all pages-->
        <script src="{{ url_for('static', filename='js/sb-admin-2.min.js') }}"></script>
    
        <!-- Page level plugins -->
        <script src="{{ url_for('static', filename='vendor/datatables/jquery.dataTables.min.js') }}"></script>
        <script src="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.js') }}"></script>
    
        <!-- Page level custom scripts -->
        <script src="{{ url_for('static', filename='js/demo/datatables-demo.js') }}"></script>
        
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/jquery.tabledit.js"></script>
        
        <script>

            

            $(document).ready(function(){
                
                    
                // example.php will be used to send the data to the sever database
                // $('#dataTable').DataTable();
    
                $('#dataTable').Tabledit({
                    paging: false,
                    perPage: 100,
                    type: 'text',
                    type: 'POST',
                    url: '/updateDiscount',
    
                    editButton: true,
                    deleteButton: true,
                    hideIdentifier: true,
                    columns: {
                        identifier: [0, 'id'],
                        editable: [[0, 'pk'],[2, 'discounts']]
                    },
                    onSuccess: function(data, textStatus, jqXHR) {
                        // deal with success there
                    },
                    onFail: function(jqXHR, textStatus, errorThrown) {
                        // deal with errors there
                    },
                    onAjax: function(action, serialize) {
                        // open your xhr here 
                        console.log("on Ajax");
                        console.log("action : ", action);
                        console.log("data : ", serialize);
                    }
    
                });
    
            });
    
            
    
        </script>
        </div>
      </body>
    </html>


</html>

